<?phpini_set('display_errors', 1);ini_set('display_startup_errors', 1);error_reporting(E_ALL);if(isset($_POST['r'])){$data_json 	= $_POST['r'];$psl_name 	= $_POST['psl'];}else{$data_json 	= $_GET['r'];$psl_name 	= $_POST['psl'];	}//GETTING PROPOSAL DATArequire_once 's3/upload.php';$s3FileName 	= $psl_name.'.json';$s3FilePath 	= getcwd()."/xmls/".$s3FileName;$myfile 		= fopen($s3FilePath, "w") or die("Unable to open file!");fwrite($myfile, $data_json);fclose($myfile);$s3Type 		= "json";$s3UserId 		= 3709;	if(checkS3()){	//upload the file and get the full path	$s3filePath = uploadToS3($s3FilePath,$s3FileName,$s3Type,$s3UserId);	//unlink the local file	unlink($s3FilePath); 	print $s3filePath;}else{	print 'https://plus.showseeker.com/goplus/downloads/xmls/'.$s3FileName;}	exit;return;	function getProposalMedia($data_json) {	$apiKey= 'e0084608db104217adb644761d733b7331829d4318143b588da812';	$url = "https://showcards.showseeker.com/v1/shows";				$ch = curl_init();	curl_setopt($ch, CURLOPT_URL, $url);	curl_setopt($ch, CURLOPT_HTTPHEADER, array("api-key: {$apiKey}",'Content-Type: application/json','Content-Length: ' . strlen($data_json)));	curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');	curl_setopt($ch, CURLOPT_POSTFIELDS,$data_json);	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);	$response 	= curl_exec($ch);	$err      	= curl_error($ch);	curl_close($ch);	print_r($err);	exit;	return json_decode($response);}//AMAZON S3 CHECKfunction checkS3(){	$r = true;	$host = 'showseeker.s3.amazonaws.com';	if($socket =@ fsockopen($host, 80, $errno, $errstr, 30)) {		fclose($socket);	} 	else {		$r = false;	}			return $r;}