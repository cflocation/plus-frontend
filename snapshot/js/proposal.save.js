function quickSave(){	/*issaving = true;		closeAllDialogs();			if(proposalid == 0){		loadDialogWindow('noproposalloaded', 'ShowSeeker Plus', 450, 180, 1);		return;	}		if(datagridProposal.getCount() == 0){		loadDialogWindow('emptyproposal','ShowSeeker Plus', 450, 180, 1);		return;	}		var bad = datagridProposal.spotCount();			if(bad > 0){		loadDialogWindow('nospots', 'ShowSeeker Plus', 450, 180, 1);		return;	}		$('#data-writer').show();		loadDialogWindow('downloadproposal','Downloading',290,180, 1);		//format the proposal for database insert	var json 	= JSON.stringify(datagridProposal.proposalLines());	var weeks 	= JSON.stringify(weeksdata);		//grab all the other totals to pass to the save service	var proposalTotalInfoLineCount = datagridProposal.proposalLines().length;	var	proposalTotalInfoStartDate = 0;	var	proposalTotalInfoEndDate = 0;	var proposalTotalInfoZonesStr = proposalTotalInfoZones;	var proposalTotalInfoSpotsStr = proposalTotalInfoSpots;		if(proposalTotalInfoLineCount == 0){		proposalTotalInfoZonesStr = "";		proposalTotalInfoSpotsStr = 0;	}	else{		proposalTotalInfoStartDate = datagridProposal.getProposalStartDate();		proposalTotalInfoEndDate 	= datagridProposal.getProposalEndDate();	}		//post the lines ot the server	proposalurl = "/services/1.0/proposal.save.php";    /*$.when(buildToken(proposalurl)).done(function(token){        tokenid = token['key'];        userid = token['userid'];		$.post(proposalurl, {			tokenid: tokenid,			userid: userid,			proposal: json,			weeks: weeks,			id: proposalid,			discountagency: discountagency,			discountpackagetype: discountpackagetype,			discountpackage: discountpackage,			proposalTotalInfoSpots: proposalTotalInfoSpotsStr,			proposalTotalInfoGross: proposalTotalInfoGross,			proposalTotalInfoNet: proposalTotalInfoNet,			proposalTotalInfoAgencyDisc: proposalTotalInfoAgencyDisc,			proposalTotalInfoPackageDisc: proposalTotalInfoPackageDisc,			proposalTotalInfoLineCount: proposalTotalInfoLineCount,			proposalTotalInfoStartDate: proposalTotalInfoStartDate,			proposalTotalInfoEndDate: proposalTotalInfoEndDate,			proposalTotalInfoZones: proposalTotalInfoZonesStr		}, function(data) {				issaving = false;				needSaving 	= false;				var urlpdf 	= downloadQuickPDF();								var json 	= 'services/jsonbridge.php?url='+encodeURIComponent(urlpdf);								$('#data-writer').hide();								//get the json result for the data				$.getJSON(json, function(data) {					var filename = data.filename;					var link = 'services/force.download.php?filename='+filename;										$("#dialog-window").dialog("destroy");					window.location.href = link;					closeAllDialogs();								return true;									});		});	});*/}function fastSave(){	/*issaving = true;		if(datagridProposal.getCount() == 0){		loadDialogWindow('emptyproposal','ShowSeeker Plus', 450, 180, 1);		return;	}		var bad = datagridProposal.spotCount();			if(bad > 0){		loadDialogWindow('nospots', 'ShowSeeker Plus', 450, 180, 1);		return;	}		$('#data-writer').show();			//format the proposal for database insert	var json 	= JSON.stringify(datagridProposal.proposalLines());	var weeks 	= JSON.stringify(weeksdata);		//grab all the other totals to pass to the save service	var proposalTotalInfoLineCount = datagridProposal.proposalLines().length;	var	proposalTotalInfoStartDate = 0;	var	proposalTotalInfoEndDate = 0;	var proposalTotalInfoZonesStr = proposalTotalInfoZones;	var proposalTotalInfoSpotsStr = proposalTotalInfoSpots;		if(proposalTotalInfoLineCount == 0){		proposalTotalInfoZonesStr = "";		proposalTotalInfoSpotsStr = 0;	}	else{		proposalTotalInfoStartDate = datagridProposal.getProposalStartDate();		proposalTotalInfoEndDate 	= datagridProposal.getProposalEndDate();	}		//post the lines ot the server	proposalurl = "/services/1.0/proposal.save.php";    $.when(buildToken(proposalurl)).done(function(token){        tokenid = token['key'];        userid = token['userid'];		$.post(proposalurl, {			tokenid: tokenid,			userid: userid,			proposal: json,			weeks: weeks,			id: proposalid,			discountagency: discountagency,			discountpackagetype: discountpackagetype,			discountpackage: discountpackage,			proposalTotalInfoSpots: proposalTotalInfoSpotsStr,			proposalTotalInfoGross: proposalTotalInfoGross,			proposalTotalInfoNet: proposalTotalInfoNet,			proposalTotalInfoAgencyDisc: proposalTotalInfoAgencyDisc,			proposalTotalInfoPackageDisc: proposalTotalInfoPackageDisc,			proposalTotalInfoLineCount: proposalTotalInfoLineCount,			proposalTotalInfoStartDate: proposalTotalInfoStartDate,			proposalTotalInfoEndDate: proposalTotalInfoEndDate,			proposalTotalInfoZones: proposalTotalInfoZonesStr		}, function(data) {				issaving = false;				needSaving 	= false;				$('#data-writer').hide();			var x = buildDownloadURL();			var url = 'http://export.showseeker.com/xml/'+x;			var w = h = 550;						var LeftPosition = (screen.width) ? (screen.width-w)/2 : 0;			var TopPosition  = (screen.height) ? (screen.height-h)/2 : 0;			var settings ='height='+h+',width='+w+',top='+TopPosition+',left='+LeftPosition+',scrollbars=0,resizable=0,status=0';			window.open(url,'XMLExport',settings).focus();			try{$.post("services/log.php", { userid:userid, eventslogid:15, request:'XML', result:1, proposalid:proposalid  },function(data) {});}catch(e){}							});	});*/}