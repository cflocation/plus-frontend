<?php 	ini_set("display_errors",1);	include_once('Zones.php');	class Title	extends Zones{		protected $con;		protected $userid;		protected $tokenid;		//build the basic information about the logged in user		public function __construct($con, $userid, $tokenid){			$this->con = $con;			$this->userid = $userid;			$this->tokenid = $tokenid;		}		public function currenttitles(){						$sql 		= "select 	DISTINCT TITLE from archivedtitles order by	TITLE";			$result 	= mysqli_query($this->con, $sql);						//IF NOT RESULTS RETURN EMPTY ARRAY			while ($row = $result->fetch_assoc()) {				$titles[] = $row;			}						return json_encode($titles);		}	public function archivedtitles($zoneid){		$zoneid 		= $zoneid;		$zonenets 	= 0;				$z = new Zones($this->con, $this->userid, $this->tokenid);			if($zoneid != 0){			$stations 	= $z->getzonenetworks($zoneid);									foreach ($stations as &$value) {				$zonenets = $zonenets.','.$value['id'];		 	}		}					$sql = "select title from archivedtitles where title IS NOT NULL ";				if($zonenets != 0){			$sql = $sql." and networkid in ({$zonenets})";		}				$sql = $sql." group by	title order by title";				$result 	= mysqli_query($this->con, $sql);		$records = $result->num_rows;			while ($row = $result->fetch_assoc()) {			$titles[] = array("title"=>$row['title']);	 	}			  $result = array("responseHeader"=>$records,"response"=>array("titles"=>$titles));			return json_encode($result);	}		}?>